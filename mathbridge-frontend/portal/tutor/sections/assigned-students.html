<section class="content-section" id="assigned-students">
    <div class="assigned-students-stats" id="assignedStudentsStats" style="display: none;">
        <div class="stat-card-mini">
            <div class="stat-icon-mini">
                <i class="fas fa-user-check"></i>
            </div>
            <div class="stat-content-mini">
                <h3 id="activeStudentsCount">0</h3>
                <p>Đang phụ trách</p>
            </div>
        </div>
    </div>

    <div class="section-header">
        <h2><i class="fas fa-user-graduate"></i> Học sinh được phân công</h2>
        <div class="header-actions">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="studentSearchInput" placeholder="Tìm kiếm học sinh..." onkeyup="(window.assignedStudentsModule && window.assignedStudentsModule.filter ? window.assignedStudentsModule.filter() : (window.tutorDashboard && window.tutorDashboard.filterStudents ? window.tutorDashboard.filterStudents() : null))">
            </div>
            <div class="filter-buttons">
                <div class="filter-group">
                    <label for="assignmentStatusFilter" class="filter-label">
                        <i class="fas fa-filter"></i> Trạng thái phân công
                    </label>
                    <select class="form-select" id="assignmentStatusFilter" onchange="(window.assignedStudentsModule && window.assignedStudentsModule.filter ? window.assignedStudentsModule.filter() : (window.tutorDashboard && window.tutorDashboard.filterStudents ? window.tutorDashboard.filterStudents() : null))">
                        <option value="active" selected>Đang phụ trách</option>
                        <option value="all">Tất cả</option>
                        <option value="Tam dung">Tạm dừng</option>
                        <option value="Ket thuc">Đã kết thúc</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="classFilter" class="filter-label">
                        <i class="fas fa-chalkboard"></i> Lớp học
                    </label>
                    <select class="form-select" id="classFilter" onchange="(window.assignedStudentsModule && window.assignedStudentsModule.filter ? window.assignedStudentsModule.filter() : (window.tutorDashboard && window.tutorDashboard.filterStudents ? window.tutorDashboard.filterStudents() : null))">
                        <option value="">Tất cả lớp</option>
                    </select>
                </div>
            </div>
            <button class="btn btn-primary" id="exportBtn" onclick="(window.assignedStudentsModule && window.assignedStudentsModule.exportStudents ? window.assignedStudentsModule.exportStudents() : (window.tutorDashboard && window.tutorDashboard.exportStudents ? window.tutorDashboard.exportStudents() : null))">
                <i class="fas fa-download"></i>
                Xuất danh sách
            </button>
        </div>
    </div>

    <div class="loading-container" id="assignedStudentsLoading">
        <div class="spinner"></div>
        <p>Đang tải danh sách học sinh...</p>
    </div>

    <div class="empty-state" id="assignedStudentsEmpty" style="display: none;">
        <div class="empty-icon">
            <i class="fas fa-user-graduate"></i>
        </div>
        <h3>Chưa có học sinh được phân công</h3>
        <p>Hiện tại bạn chưa được phân công học sinh nào. Vui lòng liên hệ quản trị viên.</p>
    </div>

    <div class="assigned-students-table-container" id="assignedStudentsTable" style="display: none;">
        <div class="table-header">
            <div>Học sinh</div>
            <div>Thông tin liên hệ</div>
            <div>Lớp học</div>
            <div>Ngày bắt đầu</div>
            <div>Ngày kết thúc</div>
            <div>Trạng thái phân công</div>
            <div>Ghi chú</div>
            <div>Hành động</div>
        </div>
        <div class="table-body" id="assignedStudentsTableBody">
            <!-- Students will be loaded here dynamically -->
        </div>
    </div>
</section>

<link rel="stylesheet" href="assets/css/sections/assigned-students.css">
<script src="assets/js/sections/assigned-students.js"></script>

