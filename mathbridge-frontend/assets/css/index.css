/* ============================================================
   MathBridge – Index.css (Sections 1–4, đồng bộ màu & khoảng cách)
   Ghi chú nhanh:
   - Đổi brand color ở :root để toàn site đổi theo.
   - Tất cả section dùng max-width 1200px + padding ngang 20px.
   - Wave của Section 1 bắc cầu sang Section 2 (không khe trắng).
   ============================================================ */

/* ========= Biến màu (thay tại đây nếu cần) ========= */
:root{
  --mb-blue:       #1e3a8a;   /* xanh thương hiệu */
  --mb-blue-2:     #1f3b86;   /* xanh tiêu đề phụ */
  --mb-accent:     #e11d48;   /* đỏ điểm nhấn (CTA, bullet, circle) */
  --mb-accent-deep:#b91c1c;   /* bóng/nút đậm */
  --mb-ink:        #0f172a;   /* màu chữ chính */
  --mb-gray-1:     #51607a;   /* phụ đề */
  --mb-gray-2:     #374151;   /* nội dung */
  --mb-card:       #ffffff;   /* nền thẻ */
  --mb-bg-soft:    #f7f8fc;   /* nền section nhẹ */

  /* Section 2 (Stats) */
  --mb-red:        #d1153b;
  --mb-red-deep:   #b31230;
  --mb-red-soft:   #f52c5a;
}

/* ========= Utilities ========= */
.mb-container{max-width:1200px;margin:0 auto;padding:0 20px}
*, *::before, *::after{box-sizing:border-box}

/* ============================================================
   SECTION 1 – HERO (2 SLIDES TỰ ĐỘNG)
   ============================================================ */
.mb-hero{position:relative;background:#fff;overflow:visible;margin-bottom:0}
.mb-hero.v2{min-height:650px}
@media (max-width:980px){.mb-hero.v2{min-height:780px}}

.mb-hero-stage{position:relative}
.mb-hero-slide{
  position:absolute;inset:0;opacity:0;pointer-events:none;
  animation:mbSlide 14s infinite; /* 2 slide = 7s/slide */
}
.mb-hero-slide.s1{animation-delay:0s}
.mb-hero-slide.s2{animation-delay:7s}
@keyframes mbSlide{0%{opacity:0}4%{opacity:1}46%{opacity:1}50%{opacity:0}100%{opacity:0}}

.mb-hero-wrap{
  display:grid;grid-template-columns:1.05fr 1fr;gap:28px;align-items:center;
}
.mb-hero .mb-hero-wrap{ /* áp dụng container chung */
  max-width:1200px;margin:0 auto;padding:48px 20px 56px;
}
@media (max-width:980px){
  .mb-hero .mb-hero-wrap{grid-template-columns:1fr;gap:18px;padding:36px 16px 40px}
}

/* Ảnh trái (card xếp lớp) */
.mb-hero-figure{
  position:relative;aspect-ratio:16/10;border-radius:10px;overflow:visible;isolation:isolate;
}
.mb-hero-figure::before{
  content:"";position:absolute;left:-14px;bottom:-16px;width:86%;height:16%;
  background:#93c5fd;border-radius:2px;transform:skewX(-6deg);z-index:-1;
  filter:drop-shadow(0 8px 18px rgba(2,6,23,.15));
}
.mb-hero-figure::after{
  content:"";position:absolute;left:18px;top:28px;right:-8px;height:2px;
  background:linear-gradient(90deg,#ef4444,#fecaca);opacity:.6;
}
.mb-hero-img{
  position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:6px;
  box-shadow:0 14px 40px rgba(2,6,23,.18);
}

/* Khối chữ phải (giấy kẻ) */
.mb-hero-right{
  position:relative;padding:24px;border-radius:8px;background:
    linear-gradient(#0000 24px, rgba(2,6,23,.06) 24px, rgba(2,6,23,.06) 25px, #0000 25px) 0 0/100% 32px #fff;
  box-shadow:0 8px 24px rgba(2,6,23,.08);
}
.mb-hero-right::before{content:"";position:absolute;left:50%;top:12px;bottom:12px;width:1px;background:rgba(2,6,23,.1)}

/* Type */
.eyebrow{margin:0 0 6px;color:#64748b;font-weight:700;letter-spacing:.06em;text-transform:uppercase}
.title{margin:0 0 12px;color:var(--mb-blue);font-size:56px;line-height:1.05;font-weight:900;letter-spacing:.2px}
.sup-title{margin:0 0 12px;color:var(--mb-blue-2);font-size:44px;line-height:1.2;font-weight:800}
.sup-title span{color:#2a55c5}
.bullets{margin:0 0 14px;padding:0;list-style:none;color:#111827}
.bullets li{position:relative;padding-left:22px;margin:8px 0}
.bullets li::before{content:"✷";position:absolute;left:0;top:0;color:var(--mb-accent);font-weight:900;font-size:16px;line-height:1}
.script-lines{margin:6px 0 14px}
.script-lines .line{font-size:28px;line-height:1.2;font-weight:700;letter-spacing:.3px}
.script-lines .red{color:var(--mb-accent)}
.script-lines .blue{color:#1e40af}
.highlight{color:#1e40af;font-weight:800}
.cta{
  display:inline-block;margin-top:8px;background:var(--mb-accent);color:#fff;text-decoration:none;
  padding:14px 22px;border-radius:24px;font-weight:800;box-shadow:0 4px 0 var(--mb-accent-deep)
}
.cta:hover{filter:brightness(.96)}
.cta:active{transform:translateY(1px);box-shadow:0 3px 0 var(--mb-accent-deep)}

/* Wave nối mạch xuống Section 2 */
.mb-hero .mb-hero-wave{
  position:absolute;left:0;right:0;bottom:-1px;height:140px;margin:0;opacity:.95;
  background:
    radial-gradient(120% 140% at -10% 120%, #dc1b44 60%, #b9122f 61%) left/60% 100% no-repeat,
    radial-gradient(120% 140% at 110% 120%, #dc1b44 55%, #b9122f 56%) right/60% 100% no-repeat,
    linear-gradient(0deg,#0000 0 60%, #dc1b44 0);
}

/* ============================================================
   SECTION 2 – STATS (được kéo chồng lên wave S1, khớp màu)
   ============================================================ */
.mb-stats{
  position:relative;background:var(--mb-red);color:#fff;overflow:hidden;
  margin-top:-110px;padding-top:110px; /* bắc cầu với wave S1 */
}
.mb-stats .mb-stats-wrap{ /* container chung */
  max-width:1200px;margin:0 auto;padding:36px 20px 28px;
  display:grid;grid-template-columns:repeat(4,1fr);gap:18px;text-align:center;
}
.mb-stats .stat{display:flex;flex-direction:column;align-items:center;gap:8px}
.mb-stats .num{
  font-weight:900;letter-spacing:.5px;line-height:1;font-size:56px;
  color:transparent;-webkit-text-stroke:2px #fff;text-stroke:2px #fff;
}
.mb-stats .note{font-size:16px;font-weight:700;line-height:1.4}

/* Wave kết section 2 */
.mb-stats-wave{
  position:relative;height:140px;margin-top:18px;
  background:
    radial-gradient(160% 180% at 30% 120%, var(--mb-red-soft) 60%, var(--mb-red) 61%) left/60% 100% no-repeat,
    radial-gradient(160% 180% at 90% 120%, var(--mb-red-soft) 55%, var(--mb-red-deep) 56%) right/60% 100% no-repeat;
}

/* ============================================================
   SECTION 3 – “Khóa học này dành cho ai?”
   ============================================================ */
.mb-target{background:#fff;padding:80px 0;position:relative}
.mb-target::before{ /* chuyển sắc mềm từ S2 */
  content:"";position:absolute;top:-40px;left:0;right:0;height:80px;
  background:linear-gradient(to bottom, var(--mb-red-deep) 0%, #fff 100%);z-index:0;
}
.mb-target .mb-target-wrap{
  max-width:1200px;margin:0 auto;padding:0 20px;position:relative;z-index:1;
  display:grid;grid-template-columns:0.9fr 1.1fr;align-items:center;gap:40px;
}

/* Ảnh bên trái */
.mb-target-img{position:relative;border-radius:40px;overflow:hidden;box-shadow:0 8px 24px rgba(0,0,0,.12)}
.mb-target-img img{width:100%;height:auto;display:block;object-fit:cover}
.mb-target-img .caption{
  position:absolute;left:50%;bottom:20px;transform:translateX(-50%);
  background:#fff;color:var(--mb-blue);padding:14px 24px;border-radius:14px;font-weight:700;
  box-shadow:0 4px 12px rgba(0,0,0,.12);font-size:17px;text-align:center
}
.mb-target-img .caption span{color:var(--mb-accent)}

/* Nội dung bên phải */
.mb-target-content .title{font-size:30px;font-weight:800;color:var(--mb-blue);margin:0 0 24px}
.mb-target-content .title span{color:var(--mb-accent)}
.targets{display:grid;grid-template-columns:repeat(2,1fr);gap:24px 20px;margin-bottom:32px}
.target{display:flex;align-items:flex-start;gap:12px}
.target .circle{
  flex-shrink:0;background:var(--mb-accent);color:#fff;width:36px;height:36px;border-radius:50%;
  font-weight:800;display:flex;align-items:center;justify-content:center;font-size:18px;
  box-shadow:0 3px 6px rgba(185,28,28,.3)
}
.target .text h3{margin:0;color:var(--mb-blue);font-size:17px;font-weight:800}
.target .text p{margin:4px 0 0;color:#334155;font-size:15px;line-height:1.5}

/* CTA */
.mb-target .cta{
  display:inline-block;background:var(--mb-blue);color:#fff;text-decoration:none;
  padding:14px 28px;border-radius:8px;font-weight:800;box-shadow:0 4px 0 #142257;transition:.2s
}
.mb-target .cta:hover{background:var(--mb-accent);box-shadow:0 4px 0 #9f1239;transform:translateY(-1px)}
/* ============================================================
   SECTION 4 – Tại sao nên chọn MathBridge (refined)
   - Cầu nối màu với section 3
   - Tiêu đề có nhấn mạnh, gạch chân mềm
   - Card có viền nhẹ + dải nhấn trên đầu, icon trong badge tròn
   - Hover nổi khối tinh tế, đồng bộ màu xanh–đỏ
   ============================================================ */

.mb-why{
  position:relative; z-index:1;
  background:var(--mb-bg-soft);
  /* Kéo lên một chút để ôm sát section 3 (đặt trong bridge S3<->S4 đã thêm) */
  margin-top:-32px;          /* nếu chưa dùng bridge, có thể bỏ dòng này */
  padding:110px 0 90px;      /* bù padding trên để nội dung không dính mép */
}

/* Cầu nối màu: trắng (S3) -> xám nhạt (S4) */
.mb-why::before{
  content:"";
  position:absolute; left:0; right:0; top:0; height:78px; z-index:0;
  background:linear-gradient(to bottom, #ffffff 0%, var(--mb-bg-soft) 100%);
}
.mb-why .mb-why-wrap{position:relative; z-index:1; max-width:1200px; margin:0 auto; padding:0 20px}

/* Header */
.mb-why-head{ text-align:center; margin-bottom:32px }
.mb-why-head h2{
  margin:0 0 10px;
  font-weight:900; color:var(--mb-blue);
  font-size:clamp(24px, 2.3vw, 32px);
  display:inline-block; position:relative;
}
.mb-why-head h2 span{ color:var(--mb-accent) }
/* gạch chân mềm theo brand */
.mb-why-head h2::after{
  content:""; display:block; height:4px; width:56%;
  margin:8px auto 0;
  border-radius:999px;
  background:linear-gradient(90deg, var(--mb-accent), rgba(225,17,72,.25));
}
.mb-why-head p{ margin:0; color:#5b6b86 }

/* Grid */
.mb-why-grid{
  display:grid; grid-template-columns:repeat(4, 1fr); gap:24px;
}

/* Card */
.why-card{
  position:relative;
  background:var(--mb-card);
  border:1px solid #e9eef7;
  border-radius:18px;
  padding:26px 22px 26px;
  text-align:center;
  box-shadow:0 10px 26px rgba(2,6,23,.06);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  display:flex; flex-direction:column; align-items:center; height:100%;
}
/* dải nhấn trên đỉnh card */
.why-card::before{
  content:""; position:absolute; left:18px; right:18px; top:0; height:4px;
  border-radius:0 0 6px 6px;
  background:linear-gradient(90deg, var(--mb-accent), #ff7aa0);
  opacity:.9;
}
.why-card:hover{
  transform:translateY(-6px);
  box-shadow:0 16px 40px rgba(2,6,23,.12);
  border-color:#dfe7f5;
}

/* Icon trong badge tròn */
.why-icon{
  width:72px; height:72px; object-fit:contain; margin:6px auto 14px;
  background:#fff; padding:10px; border-radius:50%;
  box-shadow:
    0 8px 18px rgba(2,6,23,.08),
    0 0 0 6px rgba(225,17,72,.08); /* viền mờ theo màu accent */
}

/* Title + divider */
.why-card h3{
  margin:0 0 8px; color:var(--mb-blue); font-size:18px; font-weight:900;
}
.why-divider{
  height:1px; width:86%; margin:8px auto 14px;
  background:linear-gradient(90deg,#e6edf7, #f3f6fb 60%, #e6edf7);
  border-radius:999px;
}
.why-card p{ margin:0; color:var(--mb-gray-2); line-height:1.6 }

/* Responsive */
@media (max-width:1024px){
  .mb-why-grid{ grid-template-columns:repeat(2,1fr) }
}
@media (max-width:560px){
  .mb-why{ margin-top:-24px; padding:96px 0 70px }
  .mb-why-grid{ grid-template-columns:1fr }
  .why-card{ padding:22px 18px 22px }
  .why-card h3{ font-size:17px }
}

/* ===== Bridge S3 <-> S4 (liền mạch màu) ===== */

/* 1) Giữ nhịp dọc cuối S3, đừng để margin-bottom nào tạo khe */
.mb-target{ padding-bottom: 72px; margin-bottom: 0; position: relative; z-index: 2; }

/* 2) Tạo lớp chuyển sắc trên đỉnh S4 và kéo S4 lên 1 chút */
.mb-why{
  position: relative;
  margin-top: -32px;      /* kéo chồng lên S3 để không lộ khe */
  padding-top: 102px;     /* bù lại khoảng padding cho nội dung */
}

/* lớp cầu nối: từ trắng (S3) sang xám nhạt (S4) */
.mb-why::before{
  content:"";
  position:absolute; inset:0 0 auto 0; height:70px; top:0;
  background: linear-gradient(to bottom, #ffffff 0%, #f7f8fc 100%);
  z-index: 0;             /* nằm dưới nội dung S4 */
}

/* đảm bảo nội dung S4 nổi trên lớp cầu nối */
.mb-why .mb-why-wrap{ position: relative; z-index: 1; }
