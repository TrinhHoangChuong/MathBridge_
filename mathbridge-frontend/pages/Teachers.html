<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>ƒê·ªôi ng≈© gi·∫£ng vi√™n - MathBridge</title>
    <base href="../" />
    <!-- CSS chung c·ªßa site -->
    <link rel="stylesheet" href="assets/css/header.css" />
    <link rel="stylesheet" href="assets/css/footer.css" />
    <!-- CSS ri√™ng c·ªßa trang n√†y -->
    <link rel="stylesheet" href="assets/css/teachers.css" />

    <!-- Gi·ªØ nguy√™n include partials c·ªßa b·∫°n -->
    <script src="assets/js/utils/includePartials.js" defer></script>
</head>
<body>
<header></header>

<main class="teachers">
    <!-- HERO -->
    <section class="teachers__hero" aria-labelledby="teachers-title">
        <div class="container">
            <h1 id="teachers-title" class="teachers__title">ƒê·ªôi ng≈© gi·∫£ng vi√™n</h1>
            <p class="teachers__subtitle">
                Chuy√™n m√¥n v·ªØng, gi√†u kinh nghi·ªám IGCSE ‚Ä¢ A-Level ‚Ä¢ IB ‚Ä¢ AP ‚Ä¢ THPT VN.
            </p>
        </div>
    </section>

    <!-- TOOLBAR: T√¨m ki·∫øm + Chip l·ªçc + S·∫Øp x·∫øp -->
    <section class="teachers__toolbar">
        <div class="container toolbar__inner">
            <!-- Search -->
            <div class="search" role="search" aria-label="T√¨m gi·∫£ng vi√™n">
                <input id="q" type="search" class="search__input"
                       placeholder="T√¨m theo t√™n, ch∆∞∆°ng tr√¨nh, k·ªπ nƒÉng..."
                       autocomplete="off" aria-label="√î t√¨m ki·∫øm">
                <span class="search__icon" aria-hidden="true">üîé</span>
            </div>

            <!-- Chips: single-select -->
            <div class="chips" role="group" aria-label="L·ªçc theo ch∆∞∆°ng tr√¨nh">
                <!-- NOTE: aria-pressed th·ªÉ hi·ªán chip ƒëang b·∫≠t -->
                <button class="chip" data-program="" aria-pressed="true">T·∫•t c·∫£</button>
                <button class="chip" data-program="IGCSE" aria-pressed="false">IGCSE</button>
                <button class="chip" data-program="A-Level" aria-pressed="false">A-Level</button>
                <button class="chip" data-program="IB" aria-pressed="false">IB</button>
                <button class="chip" data-program="AP" aria-pressed="false">AP</button>
                <button class="chip" data-program="THPT" aria-pressed="false">THPT VN</button>
            </div>

            <!-- Sort + meta -->
            <div class="sort">
                <label for="sort" class="sort__label">S·∫Øp x·∫øp:</label>
                <select id="sort" class="select" aria-label="S·∫Øp x·∫øp">
                    <option value="exp_desc">Kinh nghi·ªám: cao ‚Üí th·∫•p</option>
                    <option value="exp_asc">Kinh nghi·ªám: th·∫•p ‚Üí cao</option>
                    <option value="name_asc">T√™n: A ‚Üí Z</option>
                    <option value="name_desc">T√™n: Z ‚Üí A</option>
                </select>
                <span id="count" class="meta" aria-live="polite"></span>
            </div>
        </div>
    </section>

    <!-- GRID: Card tƒ©nh -->
    <section class="teachers__grid-wrap">
        <div class="container">
            <div id="grid" class="teachers__grid" aria-live="polite">

                <!-- CARD 1 -->
                <article class="teacher-card" tabindex="0"
                         data-name="Nguy·ªÖn VƒÉn An"
                         data-programs="THPT,IGCSE"
                         data-exp="12">
                    <div class="teacher-card__media">
                        <!-- TODO: thay ·∫£nh th·∫≠t -->
                        <img src="assets/images/teachers/an.jpg" alt="Th·∫ßy Nguy·ªÖn VƒÉn An" class="teacher-card__img" loading="lazy">
                        <span class="flag">THPT ‚Ä¢ IGCSE</span>
                    </div>
                    <div class="teacher-card__body">
                        <h2 class="teacher-card__name">Th·∫ßy Nguy·ªÖn VƒÉn An</h2>
                        <p class="teacher-card__desc">
                            Th·∫°c sƒ© To√°n, 12 nƒÉm luy·ªán thi ƒë·∫°i h·ªçc & IGCSE. Nhi·ªÅu h·ªçc sinh ƒë·∫°t gi·∫£i.
                        </p>
                        <ul class="teacher-card__tags" aria-label="K·ªπ nƒÉng">
                            <li class="tag">Gi·∫£i t√≠ch</li>
                            <li class="tag">H√†m s·ªë</li>
                            <li class="tag tag--outline">T∆∞ duy to√°n</li>
                        </ul>
                    </div>
                    <footer class="teacher-card__footer">
                        <a href="pages/classes-an.html" class="btn btn--primary">Tham gia l·ªõp</a>
                        <span class="exp-badge">12 nƒÉm</span>
                    </footer>
                </article>

                <!-- CARD 2 -->
                <article class="teacher-card" tabindex="0"
                         data-name="Tr·∫ßn Th·ªã B√¨nh"
                         data-programs="A-Level,IB"
                         data-exp="7">
                    <div class="teacher-card__media">
                        <img src="assets/images/teachers/binh.jpg" alt="C√¥ Tr·∫ßn Th·ªã B√¨nh" class="teacher-card__img" loading="lazy">
                        <span class="flag">A-Level ‚Ä¢ IB</span>
                    </div>
                    <div class="teacher-card__body">
                        <h2 class="teacher-card__name">C√¥ Tr·∫ßn Th·ªã B√¨nh</h2>
                        <p class="teacher-card__desc">
                            Phong c√°ch sinh ƒë·ªông, truy·ªÅn c·∫£m h·ª©ng. M·∫°nh X√°c su·∫•t & Th·ªëng k√™.
                        </p>
                        <ul class="teacher-card__tags" aria-label="K·ªπ nƒÉng">
                            <li class="tag">Probability</li>
                            <li class="tag">Statistics</li>
                            <li class="tag tag--outline">Exam skills</li>
                        </ul>
                    </div>
                    <footer class="teacher-card__footer">
                        <a href="pages/classes-binh.html" class="btn btn--primary">Tham gia l·ªõp</a>
                        <span class="exp-badge">7 nƒÉm</span>
                    </footer>
                </article>

                <!-- CARD 3 -->
                <article class="teacher-card" tabindex="0"
                         data-name="L√™ VƒÉn C∆∞·ªùng"
                         data-programs="AP,THPT"
                         data-exp="4">
                    <div class="teacher-card__media">
                        <img src="assets/images/teachers/cuong.jpg" alt="Th·∫ßy L√™ VƒÉn C∆∞·ªùng" class="teacher-card__img" loading="lazy">
                        <span class="flag">AP ‚Ä¢ THPT</span>
                    </div>
                    <div class="teacher-card__body">
                        <h2 class="teacher-card__name">Th·∫ßy L√™ VƒÉn C∆∞·ªùng</h2>
                        <p class="teacher-card__desc">
                            M·∫°nh t∆∞ duy logic & olympic. Ph√π h·ª£p nh√≥m kh√° gi·ªèi h∆∞·ªõng ƒë·ªôi tuy·ªÉn.
                        </p>
                        <ul class="teacher-card__tags" aria-label="K·ªπ nƒÉng">
                            <li class="tag">Number Theory</li>
                            <li class="tag">Combinatorics</li>
                            <li class="tag tag--outline">Problem solving</li>
                        </ul>
                    </div>
                    <footer class="teacher-card__footer">
                        <a href="pages/classes-cuong.html" class="btn btn--primary">Tham gia l·ªõp</a>
                        <span class="exp-badge">4 nƒÉm</span>
                    </footer>
                </article>

                <!-- CARD 4 -->
                <article class="teacher-card" tabindex="0"
                         data-name="Ph·∫°m Thu Dung"
                         data-programs="IB,IGCSE"
                         data-exp="9">
                    <div class="teacher-card__media">
                        <img src="assets/images/teachers/dung.jpg" alt="C√¥ Ph·∫°m Thu Dung" class="teacher-card__img" loading="lazy">
                        <span class="flag">IB ‚Ä¢ IGCSE</span>
                    </div>
                    <div class="teacher-card__body">
                        <h2 class="teacher-card__name">C√¥ Ph·∫°m Thu Dung</h2>
                        <p class="teacher-card__desc">
                            X√¢y n·ªÅn t·∫£ng v·ªØng & k·ªπ nƒÉng tr√¨nh b√†y b√†i thi chu·∫©n qu·ªëc t·∫ø.
                        </p>
                        <ul class="teacher-card__tags" aria-label="K·ªπ nƒÉng">
                            <li class="tag">Algebra</li>
                            <li class="tag">Functions</li>
                            <li class="tag tag--outline">IA coaching</li>
                        </ul>
                    </div>
                    <footer class="teacher-card__footer">
                        <a href="pages/classes-dung.html" class="btn btn--primary">Tham gia l·ªõp</a>
                        <span class="exp-badge">9 nƒÉm</span>
                    </footer>
                </article>

                <!-- CARD 5 -->
                <article class="teacher-card" tabindex="0"
                         data-name="Ng√¥ Minh Huy"
                         data-programs="AP,A-Level"
                         data-exp="6">
                    <div class="teacher-card__media">
                        <img src="assets/images/teachers/huy.jpg" alt="Th·∫ßy Ng√¥ Minh Huy" class="teacher-card__img" loading="lazy">
                        <span class="flag">AP ‚Ä¢ A-Level</span>
                    </div>
                    <div class="teacher-card__body">
                        <h2 class="teacher-card__name">Th·∫ßy Ng√¥ Minh Huy</h2>
                        <p class="teacher-card__desc">
                            T·ªëi ∆∞u ƒëi·ªÉm theo ma tr·∫≠n ƒë·ªÅ, l·ªô tr√¨nh c√° nh√¢n ho√°.
                        </p>
                        <ul class="teacher-card__tags" aria-label="K·ªπ nƒÉng">
                            <li class="tag">Calculus</li>
                            <li class="tag">Trigonometry</li>
                            <li class="tag tag--outline">Exam tactics</li>
                        </ul>
                    </div>
                    <footer class="teacher-card__footer">
                        <a href="pages/classes-huy.html" class="btn btn--primary">Tham gia l·ªõp</a>
                        <span class="exp-badge">6 nƒÉm</span>
                    </footer>
                </article>

                <!-- CARD 6 -->
                <article class="teacher-card" tabindex="0"
                         data-name="V≈© H·∫£i Y·∫øn"
                         data-programs="THPT,IGCSE,IB"
                         data-exp="11">
                    <div class="teacher-card__media">
                        <img src="assets/images/teachers/yen.jpg" alt="C√¥ V≈© H·∫£i Y·∫øn" class="teacher-card__img" loading="lazy">
                        <span class="flag">THPT ‚Ä¢ IGCSE ‚Ä¢ IB</span>
                    </div>
                    <div class="teacher-card__body">
                        <h2 class="teacher-card__name">C√¥ V≈© H·∫£i Y·∫øn</h2>
                        <p class="teacher-card__desc">
                            Kinh nghi·ªám ƒëa ch∆∞∆°ng tr√¨nh; m·∫°nh ƒë·ªì th·ªã & m√¥ h√¨nh ho√°.
                        </p>
                        <ul class="teacher-card__tags" aria-label="K·ªπ nƒÉng">
                            <li class="tag">Graphing</li>
                            <li class="tag">Modeling</li>
                            <li class="tag tag--outline">Study plan</li>
                        </ul>
                    </div>
                    <footer class="teacher-card__footer">
                        <a href="pages/classes-yen.html" class="btn btn--primary">Tham gia l·ªõp</a>
                        <span class="exp-badge">11 nƒÉm</span>
                    </footer>
                </article>

            </div>

            <!-- Empty state (·∫©n/hi·ªán b·∫±ng JS) -->
            <div id="empty" class="empty" style="display:none">
                Kh√¥ng t√¨m th·∫•y gi·∫£ng vi√™n ph√π h·ª£p v·ªõi b·ªô l·ªçc hi·ªán t·∫°i.
            </div>
        </div>
    </section>
</main>

<footer></footer>

<script>
    // Gi·ªØ header/footer c≈©: include t·ª´ partials c·ªßa b·∫°n
    window.addEventListener('load', () => {
      includePartials({
        header: 'partials/header.html',
        footer: 'partials/footer.html'
      });
    });

    /* ===========================
       JS l·ªçc/t√¨m/s·∫Øp x·∫øp (inline)
       - M·ªói .teacher-card c√≥:
         data-name="..."
         data-programs="CSV"  (VD: "IGCSE,A-Level")
         data-exp="S·ªê NƒÇM"    (VD: "7")
       =========================== */
    const $  = (s, r=document)=>r.querySelector(s);
    const $$ = (s, r=document)=>Array.from(r.querySelectorAll(s));
    const norm = s => (s||'').toString().trim().toLowerCase();

    const grid   = $('#grid');
    const cards  = $$('.teacher-card', grid);
    const inputQ = $('#q');
    const chips  = $$('.chip');
    const sortEl = $('#sort');
    const count  = $('#count');
    const empty  = $('#empty');

    const state = { q:'', program:'', sort:'exp_desc' };

    const getName = c => c.dataset.name || '';
    const getExp  = c => Number(c.dataset.exp || 0);
    const getPrograms = c => (c.dataset.programs||'').split(',').map(norm);

    function apply(){
      const matchText = (c)=>{
        if(!state.q) return true;
        const text = norm(getName(c)+' '+getPrograms(c).join(' '));
        return text.includes(norm(state.q));
      };
      const matchProgram = (c)=>{
        if(!state.program) return true;
        return getPrograms(c).includes(norm(state.program));
      };

      // L·ªçc hi·ªÉn th·ªã
      let visible = 0;
      cards.forEach(c=>{
        const show = matchText(c) && matchProgram(c);
        c.style.display = show ? '' : 'none';
        if(show) visible++;
      });

      // Sort c√°c card ƒëang hi·ªÉn th·ªã
      const visibleCards = cards.filter(c=>c.style.display!=='none');
      visibleCards.sort((a,b)=>{
        switch(state.sort){
          case 'exp_desc': return getExp(b)-getExp(a);
          case 'exp_asc' : return getExp(a)-getExp(b);
          case 'name_asc': return getName(a).localeCompare(getName(b),'vi');
          case 'name_desc':return getName(b).localeCompare(getName(a),'vi');
          default: return 0;
        }
      });
      visibleCards.forEach(c=>grid.appendChild(c));

      // Meta
      if(count) count.textContent = `${visible} gi·∫£ng vi√™n`;
      if(empty) empty.style.display = visible ? 'none' : '';
    }

    // Search debounce nh·∫π
    let t;
    inputQ?.addEventListener('input', e=>{
      clearTimeout(t);
      t = setTimeout(()=>{ state.q = e.target.value || ''; apply(); }, 120);
    });

    // Chip single-select
    chips.forEach(chip=>{
      chip.addEventListener('click', ()=>{
        chips.forEach(c=>c.setAttribute('aria-pressed','false'));
        chip.setAttribute('aria-pressed','true');
        state.program = chip.dataset.program || '';
        apply();
      });
    });

    // Sort
    sortEl?.addEventListener('change', e=>{
      state.sort = e.target.value;
      apply();
    });

    // Init
    apply();
</script>
</body>
</html>
